<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Chel-Love | –ì–ª–∞–≤–Ω–∞—è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <style>
        :root { --bg: #0f172a; --text: #ffffff; --glass-bg: rgba(255, 255, 255, 0.03); --border: rgba(255, 255, 255, 0.1); }
        body.light-mode { --bg: #f1f5f9; --text: #0f172a; --glass-bg: rgba(255, 255, 255, 0.7); --border: rgba(15, 23, 42, 0.1); }
        body { background: var(--bg); color: var(--text); transition: background 0.3s, color 0.3s; font-family: 'Inter', sans-serif; min-height: 100vh; overflow: hidden; }
        .glass { background: var(--glass-bg); backdrop-filter: blur(15px); border: 1px solid var(--border); box-shadow: 0 8px 32px rgba(0,0,0,0.37); }
        .neon-text { text-shadow: 0 0 10px rgba(96, 165, 250, 0.5); }
        .gradient-btn { background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%); transition: 0.3s; color: white; }
        .gradient-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(59, 130, 246, 0.4); }
    </style>
</head>
<body class="flex flex-col">
    <header class="glass sticky top-0 z-50 p-5 flex justify-between items-center px-12">
        <button onclick="toggleTheme()" class="p-2 rounded-full glass hover:scale-110 transition" id="themeBtn">üåô</button>
        <div class="text-3xl font-black tracking-widest neon-text uppercase">Chel<span class="text-blue-400">Love</span></div>
        <div id="nav" class="flex items-center gap-6"></div>
    </header>

    <main class="flex-1 flex flex-col items-center justify-center text-center p-4 relative">
        <div class="absolute w-96 h-96 bg-blue-500/10 rounded-full blur-[120px] top-1/4 left-1/4 animate-pulse"></div>
        <div class="animate__animated animate__fadeInUp">
            <h1 class="text-7xl font-black mb-6 tracking-tighter uppercase">–ß–µ–ª—è–±–∏–Ω—Å–∫<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500">–ó–Ω–∞–∫–æ–º–∏—Ç—Å—è —Ç—É—Ç</span></h1>
            <p class="text-gray-400 text-xl max-w-2xl mx-auto mb-12">–¢–≤–æ–π –≥–æ—Ä–æ–¥ ‚Äî —Ç–≤–æ–∏ –ª—é–¥–∏. –ù–∞–π–¥–∏ –æ–±—â–µ–Ω–∏–µ –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤.</p>
        </div>
    </main>

    <div id="authModal" class="hidden fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[100] p-4">
        <div class="glass p-10 rounded-[2.5rem] w-full max-w-md animate__animated animate__zoomIn">
            <h2 id="atitle" class="text-4xl font-bold mb-8 text-center">–í—Ö–æ–¥</h2>
            <div class="space-y-4">
                <input type="text" id="u" placeholder="–õ–æ–≥–∏–Ω" class="w-full bg-white/5 p-4 rounded-2xl outline-none border border-white/10 focus:border-blue-500 text-white">
                <input type="password" id="p" placeholder="–ü–∞—Ä–æ–ª—å" class="w-full bg-white/5 p-4 rounded-2xl outline-none border border-white/10 focus:border-blue-500 text-white">
                <button id="authBtn" class="w-full gradient-btn py-4 rounded-2xl font-bold text-xl mt-4">–ü–æ–≥–Ω–∞–ª–∏</button>
                <button id="modeBtn" class="w-full text-gray-500 hover:text-white transition text-sm">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
        import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCTIwDY2Kjzeo5c3X7gyy89mOhHs0RlJyw",
            authDomain: "chel-love.firebaseapp.com",
            databaseURL: "https://chel-love-default-rtdb.firebaseio.com",
            projectId: "chel-love",
            storageBucket: "chel-love.firebasestorage.app",
            messagingSenderId: "334954303228",
            appId: "1:334954303228:web:1d523948b0d3b0e8f25179"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        let isReg = false;

        window.toggleMode = () => {
            isReg = !isReg;
            document.getElementById('atitle').innerText = isReg ? '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è' : '–í—Ö–æ–¥';
            document.getElementById('modeBtn').innerText = isReg ? '–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏' : '–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è';
        };

        window.toggleTheme = () => {
            const isLight = document.body.classList.toggle('light-mode');
            localStorage.setItem('theme', isLight ? 'light' : 'dark');
            document.getElementById('themeBtn').innerText = isLight ? '‚òÄÔ∏è' : 'üåô';
        };

        document.getElementById('modeBtn').onclick = window.toggleMode;
        document.getElementById('authBtn').onclick = async () => {
            const user = document.getElementById('u').value;
            const pass = document.getElementById('p').value;
            if (!user || !pass) return alert("–ó–∞–ø–æ–ª–Ω–∏ –ø–æ–ª—è");

            const userRef = ref(db, 'users/' + user);
            const snapshot = await get(userRef);

            if (isReg) {
                if (snapshot.exists()) return alert("–õ–æ–≥–∏–Ω –∑–∞–Ω—è—Ç");
                await set(userRef, { user, pass });
                alert("–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—Ö–æ–¥–∏");
                window.toggleMode();
            } else {
                if (snapshot.exists() && snapshot.val().pass === pass) {
                    localStorage.setItem('currentUser', JSON.stringify(snapshot.val()));
                    location.reload();
                } else alert("–ù–µ–≤–µ—Ä–Ω–æ!");
            }
        };

        // Init
        if (localStorage.getItem('currentUser')) {
            document.getElementById('nav').innerHTML = `
                <a href="dating.html" class="gradient-btn px-8 py-3 rounded-xl font-bold">–õ–ï–ù–¢–ê</a>
                <button onclick="localStorage.clear(); location.reload()" class="text-red-400">–í–´–ô–¢–ò</button>`;
        } else {
            document.getElementById('nav').innerHTML = `<button onclick="document.getElementById('authModal').classList.remove('hidden')" class="gradient-btn px-8 py-3 rounded-xl font-bold">–í–û–ô–¢–ò</button>`;
        }
        
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-mode');
            document.getElementById('themeBtn').innerText = '‚òÄÔ∏è';
        }
    </script>
</body>
</html>